!function(){function h(){this.state="pending";this.d=null;this.stack=[];this.f=!1;this.c=function(a){"pending"===this.state&&(this.state="resolved",this.e(a));return this};this.b=function(a){"pending"===this.state&&(this.state="rejected",this.e(a));return this};this.a=function(a,b){this.stack.push([a,b]);"pending"!==this.state&&this.e();return this};this.j=function(){this.f=!0;return null};this.k=function(a){return this.a(null,a)};this.n=function(a){function b(a){"undefined"!==typeof process&&process.h?
process.h(a):setTimeout(a,0)}a&&this.a(function(c){b(function(){a(null,c)});return c},function(c){b(function(){a(c)})});return this};this.o=function(a,b){return this.all().a(function(b){return a?a.apply(null,b):null},b)};this.all=function(){var a=this;this.stack.push([function(b){b=b?b instanceof Array?b:[b]:[];if(0===b.length)return b;a.state="pending";for(var c=0,d=b.length,e=d;e--;)(function(){var f=e,g=b[f];g&&g.a?g.a(function(e){b[f]=e;c++;c===d&&a.c(b)},function(b){a.b(b)}):(b[f]=g,c++,c===
d&&a.c(b))})();return b},null]);"pending"!==this.state&&this.e();return this};this.e=function(a){var b=this;for(a=this.d="undefined"!==typeof a?a:this.d;this.stack.length&&"pending"!==this.state;){var c=this.stack.shift(),d="rejected"===this.state?c[1]:c[0];if(d)try{if((a=this.d=d.call(null,a))&&"function"===typeof a.a){var e=this.state;this.state="pending";a.a(function(a){b.c(a)},function(a){"rejected"!==e&&c[1]&&b.stack.unshift(c);b.b(a)})}}catch(f){a=this.d=f,"rejected"!==this.state&&c[1]&&this.stack.unshift(c),
this.state="rejected"}}};if(this.f&&0===this.stack.length&&"rejected"===this.state)throw this.d;}var k={defer:function(){return new h},l:function(){var a=new h,b=Array.apply([],arguments),c=b.shift();try{var d=c.apply(null,b);a.c(d)}catch(e){a.b(e)}return a},m:function(){var a=new h,b=Array.apply([],arguments),c=b.shift();try{b.push(function(b,c){return b?a.b(b):a.c(c)}),c.apply(null,b)}catch(d){a.b(d)}return a}};"undefined"!==typeof module&&module.g?module.g=k:this.i=k}();
